<ons-page modifier="normal">
	
	<my-contents>
		
		<form name="myForm">	
			
			<!-- フォームの入力値がすべて問題ない場合のみ、押下可能 -->
			<ons-fab id="save" position="{{ 'app.ons_fab_var_pos' | translate }} right" ng-disabled="myForm.$invalid">
				<ons-icon icon="fa-floppy-o" ng-click="save();"></ons-icon>
			</ons-fab>
			
			<fieldset>
				<legend>{{ "setting.crawl.legend.name" | translate }}</legend>
				<div class="input-group">
					<label>{{ 'setting.crawl.interval.name' | translate }}</label>
					<div>
					{{ "setting.crawl.interval.prefix" | translate }}
					<ons-input id="interval" name="inputInterval" ng-model="crawl.col_interval" type="number" placeholder="{{ 'setting.crawl.interval.placeholder' | translate }}" pattern="([1-9]|[1-9][0-9])" mix="1" max="99" modifier="material" float required style="width: 50%;margin-top: 2em;"></ons-input>
					{{ "setting.crawl.interval.suffix" | translate }}
					</div>
					<div class="validate" ng-messages="myForm.inputInterval.$error" ng-show="myForm.inputInterval.$touched" multiple>
						<span class="invalid" ng-message="required">{{ 'setting.crawl.interval.required' | translate }}</span>
						<span class="invalid" ng-message="pattern">{{ 'setting.crawl.interval.pattern' | translate }}</span>
					</div>
					<div>{{ 'setting.crawl.interval.notes' | translate }}</div>
				</div>
			</fieldset>
		</form>
		
		<ons-list modifier="inset" style="margin-top: 1em;">
			<ons-list-header id="history">
				<span sytle="float: left;">
					{{ 'setting.crawl.history.header' | translate }}
				</span>
				<span style="float: right; margin-right: 2em;">
					<ons-icon id="delete" class="delete" icon="fa-trash" ng-click="deleteTimerHistory();"></ons-icon>
				</span>
			</ons-list-header>
			<ons-list-item modifier="longdivider" ng-show="nextCrawl">{{ nextCrawl }}{{ 'setting.crawl.history.next' | translate }}</ons-list-item>
			<ons-list-item modifier="longdivider" ng-repeat="h in histories">{{ h.displayStartTime() }}</ons-list-item>
		</ons-list>
		
	</my-contents>
	
</ons-page>
